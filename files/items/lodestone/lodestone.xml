<Entity tags="hittable,teleportable_NOT,item_physics">

    <!-- physical presence -->

    <PhysicsBodyComponent _tags="enabled_in_world,disabled_in_flight"
        uid="1"
        allow_sleep="1"
        linear_damping="1"
        fixed_rotation="0"
        is_bullet="1"
        linear_damping="0"
        auto_clean="0"
        on_death_leave_physics_body="1"
        hax_fix_going_through_ground="1"
        kills_entity="0" />

    <PhysicsImageShapeComponent _tags="enabled_in_world,disabled_in_flight"
        body_id="1"
        centered="1"
        image_file="data/items_gfx/smallgem_03.png"
        material="lodestone_box2d" />

    <PhysicsThrowableComponent max_throw_speed="180"
        throw_force_coeff="1.5" />

    <ProjectileComponent _tags="enabled_in_world"
        lifetime="-1"
        on_collision_die="0"
        penetrate_entities="1"
        ground_penetration_coeff="2" />

    <VelocityComponent _tags="enabled_in_world" />

    <CellEaterComponent _enabled="0"
        _tags="enabled_in_flight"
        radius="5"
        eat_dynamic_physics_bodies="1" />

    <!-- item -->

    <SpriteComponent _tags="enabled_in_hand,enabled_in_flight"
        _enabled="0"
        offset_x="4"
        offset_y="4"
        image_file="mods/azoth/files/items/lodestone/lodestone.png" />

    <WalletComponent _enabled="1" />

    <ItemComponent _tags="enabled_in_world,disabled_in_flight"
        item_name="lodestone"
        ui_description="desc_lodestone"
        ui_sprite="mods/azoth/files/items/lodestone/lodestone_ui.png"
        is_pickable="1"
        is_equipable_forced="1"
        preferred_inventory="QUICK" />

    <AbilityComponent ui_name="$item_thunderstone"
        throw_as_item="1">
        <gun_config deck_capacity="0"></gun_config>
    </AbilityComponent>

    <LuaComponent _tags="enabled_in_world"
        script_source_file="mods/azoth/files/items/lodestone/lodestone.lua"
        execute_on_added="1"
        execute_every_n_frame="1" />

    <LuaComponent _tags="enabled_in_world"
        script_source_file="mods/azoth/files/items/lodestone/emp.lua"
        execute_every_n_frame="60" />

    <LuaComponent _tags="enabled_in_world"
        script_throw_item="mods/azoth/files/items/lodestone/lodestone_throw.lua"
        execute_every_n_frame="-1" />

    <UIInfoComponent _tags="enabled_in_world"
        name="lodestone" />

    <ParticleEmitterComponent _tags="enabled_in_flight"
        delay_frames="0"
        emitted_material_name="spark_white_bright"
        offset.x="0"
        offset.y="0"
        x_pos_offset_min="-1"
        x_pos_offset_max="1"
        y_pos_offset_min="-1"
        y_pos_offset_max="1"
        x_vel_min="0"
        x_vel_max="0"
        y_vel_min="0"
        y_vel_max="0"
        gravity.y="0.0"
        count_min="20"
        count_max="20"
        lifetime_min="30"
        lifetime_max="60"
        is_trail="1"
        trail_gap="0"
        render_on_grid="1"
        fade_based_on_lifetime="1"
        airflow_force="0.5"
        airflow_time="1"
        airflow_scale="1"
        emission_interval_min_frames="1"
        emission_interval_max_frames="1"
        emit_cosmetic_particles="1"
        create_real_particles="0"
        is_emitting="1"
        draw_as_long="1"
        collide_with_grid="0" />


    <SpriteParticleEmitterComponent sprite_file="data/particles/ray.xml"
        delay="0"
        lifetime="1.5"
        color.r="1"
        color.g="0.5"
        color.b="1"
        color.a="1.0"
        color_change.r="0"
        color_change.g="0"
        color_change.b="0"
        color_change.a="-3.5"
        velocity.x="0"
        velocity.y="0"
        gravity.x="0"
        gravity.y="0"
        velocity_slowdown="0"
        rotation="0"
        angular_velocity="0"
        scale.x="1"
        scale.y="0"
        scale_velocity.x="-0.3"
        scale_velocity.y="3"
        emission_interval_min_frames="3"
        emission_interval_max_frames="6"
        emissive="1"
        additive="1"
        count_min="1"
        count_max="1"
        use_velocity_as_rotation="1"
        randomize_position.min_x="-2"
        randomize_position.max_x="2"
        randomize_position.min_y="-2"
        randomize_position.max_y="2"
        randomize_velocity.min_x="-30"
        randomize_velocity.max_x="30"
        randomize_velocity.min_y="-30"
        randomize_velocity.max_y="30"
        velocity_always_away_from_center="1" />



    <!-- <SpriteParticleEmitterComponent _tags="enabled_in_world,enabled_in_hand" sprite_file="data/particles/spark_electric.xml" delay="0" lifetime="0" color.r="1" color.g="1" color.b="1" color.a="1" color_change.r="0" color_change.g="0" color_change.b="0" color_change.a="0" velocity.x="0" velocity.y="0" gravity.x="0" gravity.y="10" velocity_slowdown="0" rotation="0" angular_velocity="0" use_velocity_as_rotation="0" scale.x="1" scale.y="1" scale_velocity.x="0" scale_velocity.y="0" emission_interval_min_frames="1" emission_interval_max_frames="3" count_min="1" count_max="1" randomize_rotation.min="-3.1415" randomize_rotation.max="3.1415" randomize_position.min_x="-2" randomize_position.max_x="2" randomize_position.min_y="-2" randomize_position.max_y="2" /> -->

</Entity>
